<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stanza 6</title>

<style>
html, body{
margin:0;
height:100%;
font-family:Arial;
color:white;
text-align:center;
overflow-x:hidden;
background:#2b1d14;
}

/* ===== LIBRERIA DI TOMI ===== */
.bookshelf{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
display:flex;
z-index:-1;
}

.book{
flex:1;
margin:0 2px;
border-radius:4px;
position:relative;
box-shadow:
inset -4px 0 8px rgba(0,0,0,0.4),
inset 4px 0 6px rgba(255,255,255,0.05);
}

/* Riga dorata centrale */
.book::after{
content:"";
position:absolute;
top:20%;
left:50%;
transform:translateX(-50%);
width:3px;
height:60%;
background:rgba(255,215,0,0.35);
}

/* Effetto titolo */
.book::before{
content:"LEX";
position:absolute;
top:40%;
left:50%;
transform:translate(-50%, -50%) rotate(-90deg);
font-size:12px;
letter-spacing:2px;
color:rgba(255,215,0,0.6);
}

/* Colori pelle alternati */
.book:nth-child(1){background:#5a2e1f;}
.book:nth-child(2){background:#3e1f15;}
.book:nth-child(3){background:#6b3a25;}
.book:nth-child(4){background:#402017;}
.book:nth-child(5){background:#7a4630;}
.book:nth-child(6){background:#4d2618;}
.book:nth-child(7){background:#5e3324;}
.book:nth-child(8){background:#3a1c12;}
.book:nth-child(9){background:#6a3c28;}
.book:nth-child(10){background:#4a2417;}
.book:nth-child(11){background:#5c2f20;}
.book:nth-child(12){background:#3f1e14;}

/* Overlay leggero */
.overlay{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.55);
z-index:-1;
}

/* ===== CONTENUTO ===== */

.main{
min-height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:flex-start;
padding:20px 10px;
box-sizing:border-box;
}

h1{
margin-top:10px;
font-size:28px;
}

p{
max-width:720px;
opacity:.92;
margin-top:8px;
margin-bottom:18px;
}

/* QUIZ BOX */
.quiz-box{
width:92%;
max-width:680px;
background:rgba(0,0,0,0.45);
border:1px solid rgba(255,255,255,0.2);
border-radius:18px;
padding:18px;
backdrop-filter:blur(6px);
box-shadow:0 10px 30px rgba(0,0,0,0.5);
}

/* DOMANDA */
.question{
font-size:18px;
font-weight:bold;
margin-bottom:14px;
line-height:1.35;
}

/* RISPOSTE */
.answers{
display:flex;
flex-direction:column;
gap:10px;
}

.answer{
border:none;
border-radius:14px;
padding:14px;
font-size:15px;
font-weight:bold;
cursor:pointer;
color:white;
text-align:left;
transition:.2s;
background:rgba(255,255,255,0.15);
border:1px solid rgba(255,255,255,0.2);
}

.answer:hover{
transform:scale(1.02);
background:rgba(255,255,255,0.25);
}

.answer.correct{
background:rgba(40,167,69,0.9);
animation:pop .25s ease;
}

.answer.wrong{
background:rgba(220,53,69,0.9);
animation:shake .35s;
}

.feedback{
margin-top:12px;
font-weight:bold;
min-height:26px;
}

.progress{
margin-top:12px;
font-size:14px;
opacity:.85;
}

/* Animazioni */
@keyframes shake{
0%{transform:translateX(0);}
25%{transform:translateX(-6px);}
50%{transform:translateX(6px);}
75%{transform:translateX(-6px);}
100%{transform:translateX(0);}
}

@keyframes pop{
0%{transform:scale(.85);}
100%{transform:scale(1);}
}

/* Mobile */
@media (max-width:768px){
h1{font-size:22px;}
.question{font-size:16px;}
.answer{font-size:14px;padding:12px;}
.quiz-box{padding:14px;}
}
</style>
</head>

<body>

<!-- Sfondo libreria -->
<div class="bookshelf">
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
  <div class="book"></div>
</div>

<div class="overlay"></div>

<div class="main">

<h1>‚öñÔ∏è Stanza 6</h1>
<p>Rispondi correttamente a tutte le domande sulle fonti del diritto per proseguire.</p>

<div class="quiz-box">
<div class="question" id="question"></div>
<div class="answers" id="answers"></div>
<div class="feedback" id="feedback"></div>
<div class="progress" id="progress"></div>
</div>

</div>

<script>
const questions = [
{
q: "Qual √® la fonte normativa pi√π importante nell‚Äôordinamento italiano?",
options: [
"üìò Legge ordinaria",
"üìë Regolamento",
"üìú Costituzione",
"üîÅ Consuetudine (prassi)"
],
correctIndex: 2
},
{
q: "Qual √® la fonte con valore gerarchico pi√π basso?",
options: [
"üìú Costituzione",
"üìò Legge ordinaria",
"üîÅ Consuetudine (prassi)",
"üìë Regolamento"
],
correctIndex: 2
},
{
q: "Se una legge ordinaria √® in contrasto con la Costituzione:",
options: [
"Pu√≤ essere dichiarata incostituzionale",
"La Costituzione perde valore",
"Vale la legge pi√π recente",
"Decide il Sindaco"
],
correctIndex: 0
},
{
q: "I regolamenti sono emanati principalmente da:",
options: [
"Il Governo / Pubblica Amministrazione",
"I cittadini",
"La Corte Costituzionale",
"I Tribunali ordinari"
],
correctIndex: 0
}
];

let current=0;
let locked=false;

const questionEl=document.getElementById("question");
const answersEl=document.getElementById("answers");
const feedbackEl=document.getElementById("feedback");
const progressEl=document.getElementById("progress");

shuffle(questions);
renderQuestion();

function shuffle(array){
for(let i=array.length-1;i>0;i--){
const j=Math.floor(Math.random()*(i+1));
[array[i],array[j]]=[array[j],array[i]];
}
}

function renderQuestion(){

locked=false;
feedbackEl.textContent="";

const q=questions[current];
questionEl.textContent=q.q;
progressEl.textContent=`Domanda ${current+1} di ${questions.length}`;
answersEl.innerHTML="";

const indexed=q.options.map((text,idx)=>({text,idx}));
shuffle(indexed);

indexed.forEach(obj=>{
const btn=document.createElement("button");
btn.className="answer";
btn.textContent=obj.text;

btn.addEventListener("click",()=>{
if(locked)return;
locked=true;

if(obj.idx===q.correctIndex){
btn.classList.add("correct");
feedbackEl.textContent="‚úÖ Corretto!";
setTimeout(()=>{
current++;
if(current>=questions.length){
window.location.href="stanza7.html";
}else{
renderQuestion();
}
},650);
}else{
btn.classList.add("wrong");
feedbackEl.textContent="‚ùå Sbagliato! Riprova.";
setTimeout(()=>{
renderQuestion();
},700);
}
});

answersEl.appendChild(btn);
});
}
</script>

</body>
</html>
